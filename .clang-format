# SPDX-License-Identifier: MIT
# OpenFIDO-ESP clang-format configuration
# Based on ESP-IDF coding style

---
Language: Cpp
BasedOnStyle: Google

# Indentation
IndentWidth: 4
TabWidth: 4
UseTab: Never
ColumnLimit: 120

# Braces
BreakBeforeBraces: Linux
AllowShortFunctionsOnASingleLine: Empty
AllowShortIfStatementsOnASingleLine: Never
AllowShortLoopsOnASingleLine: false

# Spacing
SpaceAfterCStyleCast: false
SpaceBeforeParens: ControlStatements
SpacesInParentheses: false
SpacesInSquareBrackets: false

# Alignment
AlignAfterOpenBracket: Align
AlignConsecutiveAssignments: false
AlignConsecutiveDeclarations: false
AlignTrailingComments: true

# Pointers and references
PointerAlignment: Right
DerivePointerAlignment: false

# Include sorting
SortIncludes: true
IncludeBlocks: Regroup
IncludeCategories:
  - Regex: '^<esp_.*\.h>'
    Priority: 1
  - Regex: '^<freertos/.*\.h>'
    Priority: 2
  - Regex: '^<.*\.h>'
    Priority: 3
  - Regex: '^".*"'
    Priority: 4

# Line breaks
MaxEmptyLinesToKeep: 1
KeepEmptyLinesAtTheStartOfBlocks: false
